# Craftsman API

**Important!!!**
- Tell Spring explicitly what sort of `RequestParam` or `PathVariable` it should be looking for (e.g.: `@PathVariable("id") Long id`)
- When receiving an object in a controller within a **POST**, or a **PUT** request, use `@RequestBody` annotation on the parameter.
- Inside all of your **DAO** classes (classes annotated with `@Repository`), define a **`public void clear()`** method, and inside it, implement clearing all data from the repository. This is only needed for the tests, you don't need to use it in your other classes.

## Description

Create a *REST API* for a site similar to `joszaki.hu`, where you can search for craftsmen to do certain jobs.

Create a **three tier** architecture spring boot app. **DAO** objects should store their data **in memory**.

Try to make pass as many integration tests as possible, but don't modify the tests!

A craftsman object has:

- `Long id`
- `name`,
- `email`,
- `phoneNumber`

An expertise object has:
- `Long id`,
- `name`

## API endpoints

### Craftsman:

| HTTP method | path                        | description                                                                                                      |
|-------------|-----------------------------|------------------------------------------------------------------------------------------------------------------|
| GET         | `/craftsman`                | list return with a list of all craftsmen objects                                                                 |
| POST        | `/craftsman`                | post a new craftsman, returns the generated id (should be generated by the DAO, incrementing the last generated) |
| GET         | `/craftsman/{id}`           | returns with the craftsman for the given id                                                                      |
| PUT         | `/craftsman/{id}`           | updates a craftsman for the given id                                                                             |
| DELETE      | `/craftsman/{id}`           | deletes the craftsman for the given id                                                                           |
| GET         | `/craftsman/{id}/expertise` | returns with a list of expertise for the craftsman                                                               |

### Expertise:
| HTTP method | path                             | description                                                                                                                   |
|-------------|----------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| GET         | `/expertise`                     | list return with a list of all expertise (for example: `[{"id":1, "name":"flooring"}, {"id": 2, "name": "plumbing"}`, etc...) |
| POST        | `/expertise`                     | post a new expertise, returns the generated id (should be generated by the DAO, incrementing the last generated)              |
| GET         | `/expertise/{id}`                | returns with the expertise for the given id                                                                                   |
| PUT         | `/expertise/{id}`                | updates an expertise for the given id                                                                                         |
| DELETE      | `/expertise/{id}`                | deletes the expertise for the given id                                                                                        |
| POST        | `/expertise/{id}/{craftsman_id}` | Adds expertise to the craftsman                                                                                               |
| GET         | `/expertise/{id}/craftsmen`      | returns with a list of craftsman for the given expertise                                                                      |

### Data validation

*only if the other tasks are implemented!*

- names are not blank
- email is valid
- phoneNumber only contains numbers, dashes, spaces, parentheses.

Controllers should handle invalid data by simply responding with `BAD_REQUEST` (http status code 400).